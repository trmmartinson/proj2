
<!DOCTYPE html>
<html lang="en">
  <head>
    <!--style-->
    <!-- include style.css-->
    <meta charset="utf-8">
    <title>Roominator</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.1/css/tabulator.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div id="tab_form">
    <div id="example-table-sorting"></div>
     </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tabulator/3.5.1/js/tabulator.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css"><div></div>
    <script>var tablestring="[{\"user_id\":230,\"ranswer\":\"100\",\"city\":\"Test\",\"miles\":49,\"newcol\":\"nerf\",\"values_level\":-2},{\"user_id\":246,\"ranswer\":\"55423\",\"city\":\"Minneapolis\",\"miles\":0,\"newcol\":\"nerf\",\"values_level\":-2},{\"user_id\":248,\"ranswer\":\"55423\",\"city\":\"Minneapolis\",\"miles\":0,\"newcol\":\"nerf\",\"values_level\":-2}]";
      var tablefix  = tablestring.replace(/&quot;/g,'"');
      var tabledata= JSON.parse(tablefix);
      console.log("1:");
      console.log(tablestring);
      console.log("2:");
      console.log(tablefix);
      console.log("3:");
      console.log(tabledata);
      console.log("--------------------------------parsed");
      tabledata[0].city = "asdf@asfr.com";
      tabledata[1].city = "asdf@asfr.com";
      tabledata[2].city = "asdf@asfr.com";
      
      $("#example-table-sorting").tabulator({
      columns:[
      {title:"Name", field:"city", formatter: "link" , width:200, urlPrefix:"mailto:"},
      {title:"Favourite Color", field:"col", width:200, sortable:false, sorter:function(a,b){
      return String(a).toLowerCase().localeCompare(String(b).toLowerCase());
      }},
      ],
      height: "100%",
      width: "50%",
      pagination:"local",
      paginationSize:11,
      layout:"fitColumns",
      responsiveLayout:true,
      });
      $("#example-table-sorting").tabulator("setData", tabledata);
    </script>
  </body>
</html>